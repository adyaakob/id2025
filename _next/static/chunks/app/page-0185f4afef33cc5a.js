(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{73:function(e,s,t){Promise.resolve().then(t.bind(t,2732))},2732:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return eE}});var a=t(7437),r=t(2265),l=t(7053),n=t(7712),i=t(1994),c=t(3335);function o(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,c.m6)((0,i.W)(s))}function d(e){return"".concat("/id2025").concat(e)}let m=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=r.forwardRef((e,s)=>{let{className:t,variant:r,size:n,asChild:i=!1,...c}=e,d=i?l.g7:"button";return(0,a.jsx)(d,{className:o(m({variant:r,size:n,className:t})),ref:s,...c})});u.displayName="Button";let x=r.forwardRef((e,s)=>{let{className:t,type:r,...l}=e;return(0,a.jsx)("input",{type:r,className:o("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...l})});x.displayName="Input";let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:o("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});h.displayName="Textarea";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});f.displayName="Card",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex flex-col space-y-1.5 p-6",t),...r})}).displayName="CardHeader",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("h3",{ref:s,className:o("text-2xl font-semibold leading-none tracking-tight",t),...r})}).displayName="CardTitle",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("p",{ref:s,className:o("text-sm text-muted-foreground",t),...r})}).displayName="CardDescription",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("p-6 pt-0",t),...r})}).displayName="CardContent",r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("div",{ref:s,className:o("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter";var g=t(5287),p=t(866),j=t(8906),v=t(6219),N=t(7718),y=t(3420),b=t(8728),w=t(340),S=t(8420),C=t(9525),E=t(3041),k=t(2194),A=t(9345),Z=t(4743),T=t(5929),R=t(7226),M=t(7877),z=t(9202),D=t(5005),O=t(3145),L=t(7648),P=t(9227),I=t(3276),F=t(1094),_=t(2451),B=t(407),U=t(4415),V=t(5884),q=t(8623),W=t(1706);let H=e=>{let{currentSection:s,currentSlide:t,isMuted:l,onMuteToggle:n,onAudioComplete:i,audioRef:c,isPlaying:o}=e,[m,x]=(0,r.useState)("en");(0,r.useEffect)(()=>{if(c.current){let e=d("audio/".concat(s,"/slide").concat(t+1,"_").concat(m,".mp3"));if(c.current.src=e,c.current.load(),o&&!l){let e=c.current.play();void 0!==e&&e.catch(e=>{console.error("Audio playback failed:",e)})}}},[s,t,m,o,l,c]);let h=e=>{x(e),c.current&&(c.current.pause(),c.current.currentTime=0,!l&&o&&c.current.play())};return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{if(c.current){if(l){if(o){let e=c.current.play();void 0!==e&&e.catch(console.error)}}else c.current.pause()}n(!l)},className:"text-white hover:text-gray-300",children:l?(0,a.jsx)(q.Z,{size:24}):(0,a.jsx)(W.Z,{size:24})}),(0,a.jsx)("audio",{ref:c,onEnded:i,style:{display:"none"}}),Object.entries({en:"English",id:"Indonesia",ms:"Bahasa Malaysia"}).map(e=>{let[s,t]=e;return(0,a.jsx)(u,{variant:m===s?"secondary":"ghost",size:"sm",onClick:()=>h(s),className:"text-white hover:text-gray-300",children:t},s)})]})},J=[{name:"overview",slides:9},{name:"features",slides:3},{name:"specifications",slides:3},{name:"audio",slides:3},{name:"standards",slides:3},{name:"protocols",slides:3},{name:"deployment",slides:3},{name:"vehicle_ship",slides:3},{name:"land_based",slides:3},{name:"mechanical",slides:3}];var G=e=>{let{onSectionChange:s,initialSection:t=0}=e,l=(0,r.useRef)(null),[n,i]=(0,r.useState)({width:0,height:0}),c=(0,r.useRef)(null),[o,m]=(0,r.useState)(!1),[u,x]=(0,r.useState)(t),[h,f]=(0,r.useState)(0),[g,p]=(0,r.useState)(!1),[j,v]=(0,r.useState)(!1),[N,y]=(0,r.useState)(!1),b=(0,r.useRef)(null);(0,r.useEffect)(()=>{m(!1),x(0),f(0)},[]),(0,r.useEffect)(()=>{x(t),f(0)},[t]);let w=()=>{b.current&&(clearInterval(b.current),b.current=null)},S=()=>{w(),b.current=setInterval(()=>{o&&A()},3e3)},C=()=>{m(!0),c.current&&c.current.play().catch(console.error),S()},E=()=>{m(!1),w(),c.current&&c.current.pause()},k=()=>{m(!1),w(),x(0),f(0),c.current&&(c.current.pause(),c.current.currentTime=0),s&&s(0)},A=()=>{if(h<J[u].slides-1)f(e=>e+1);else if(u<J.length-1){let e=u+1;x(e),f(0),s&&s(e)}else k()};return(0,r.useEffect)(()=>()=>{w()},[]),(0,r.useEffect)(()=>{let e=()=>{l.current&&i({width:l.current.offsetWidth,height:l.current.offsetHeight})};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,a.jsxs)("div",{ref:l,className:"relative w-full h-full bg-black",children:[(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)("div",{className:"relative w-full h-0 pb-[56.25%]",children:(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,a.jsx)(O.default,{src:(()=>{let e=J[u];return d("slides/".concat(e.name,"/slide").concat(h+1,".jpg"))})(),alt:"Slide ".concat(h+1),fill:!0,className:"object-contain",sizes:"100vw",priority:!0})})})}),(0,a.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-black bg-opacity-50 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>{o?E():C()},className:"text-white hover:text-gray-300",children:o?(0,a.jsx)(P.Z,{size:24}):(0,a.jsx)(I.Z,{size:24})}),(0,a.jsx)("button",{onClick:k,className:"text-white hover:text-gray-300",children:(0,a.jsx)(F.Z,{size:24})}),(0,a.jsx)("button",{onClick:()=>{if(h>0)f(e=>e-1);else if(u>0){let e=u-1;x(e),f(J[e].slides-1),s&&s(e)}},className:"text-white hover:text-gray-300",children:(0,a.jsx)(_.Z,{size:24})}),(0,a.jsx)("button",{onClick:A,className:"text-white hover:text-gray-300",children:(0,a.jsx)(B.Z,{size:24})}),(0,a.jsxs)("span",{className:"text-white",children:[J[u].name," - ",h+1,"/",J[u].slides]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(H,{currentSection:J[u].name,currentSlide:h,isMuted:g,onMuteToggle:p,onAudioComplete:()=>{o&&A()},audioRef:c,isPlaying:o}),(0,a.jsx)("button",{onClick:()=>{if(document.fullscreenElement)document.exitFullscreen(),v(!1);else{var e;null===(e=l.current)||void 0===e||e.requestFullscreen(),v(!0)}},className:"text-white hover:text-gray-300",children:j?(0,a.jsx)(U.Z,{size:24}):(0,a.jsx)(V.Z,{size:24})})]})]})]})},Y=t(7168),Q=t(3581),X=t(7689),K=t(7586),$=t(401),ee=t(2489),es=t(2369),et=t(44),ea=t(8893),er=t(8930),el=t(2720);class en{async getCards(){try{console.log("StorageManager: Fetching cards from API...");let e=await fetch("/api/business-cards");if(!e.ok){let s=await e.json();throw Error(s.error||"Failed to fetch cards")}let s=await e.json();return console.log("StorageManager: Fetched cards:",s.cards),s.cards}catch(e){throw console.error("StorageManager: Error fetching cards:",e),e}}async saveCard(e){try{console.log("StorageManager: Saving card:",e);let s=await fetch("/api/business-cards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to save card")}let t=await s.json();return console.log("StorageManager: Saved card:",t.card),t.card}catch(e){throw console.error("StorageManager: Error saving card:",e),e}}async updateCard(e){try{console.log("StorageManager: Updating card:",e);let s=await fetch("/api/business-cards",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to update card")}let t=await s.json();return console.log("StorageManager: Updated card:",t.card),t.card}catch(e){throw console.error("StorageManager: Error updating card:",e),e}}async deleteCard(e){try{console.log("StorageManager: Deleting card:",e);let s=await fetch("/api/business-cards",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to delete card")}console.log("StorageManager: Deleted card:",e)}catch(e){throw console.error("StorageManager: Error deleting card:",e),e}}}let ei=new en;var ec=t(6017),eo=t(875);let ed=ec.fC;ec.ZA;let em=ec.B4,eu=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(ec.xz,{ref:s,className:o("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...l,children:[r,(0,a.jsx)(ec.JO,{asChild:!0,children:(0,a.jsx)(eo.Z,{className:"h-4 w-4 opacity-50"})})]})});eu.displayName=ec.xz.displayName;let ex=r.forwardRef((e,s)=>{let{className:t,children:r,position:l="popper",...n}=e;return(0,a.jsx)(ec.h_,{children:(0,a.jsx)(ec.VY,{ref:s,className:o("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:(0,a.jsx)(ec.l_,{className:o("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});ex.displayName=ec.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ec.__,{ref:s,className:o("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=ec.__.displayName;let eh=r.forwardRef((e,s)=>{let{className:t,children:r,...l}=e;return(0,a.jsxs)(ec.ck,{ref:s,className:o("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ec.wU,{children:(0,a.jsx)($.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(ec.eT,{children:r})]})});eh.displayName=ec.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(ec.Z0,{ref:s,className:o("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=ec.Z0.displayName;let ef=0,eg=new Map,ep=e=>{if(eg.has(e))return;let s=setTimeout(()=>{eg.delete(e),ey({type:"REMOVE_TOAST",toastId:e})},1e6);eg.set(e,s)},ej=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===s.toast.id?{...e,...s.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=s;return t?ep(t):e.toasts.forEach(e=>{ep(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===s.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==s.toastId)}}},ev=[],eN={toasts:[]};function ey(e){eN=ej(eN,e),ev.forEach(e=>{e(eN)})}function eb(e){let{...s}=e,t=(ef=(ef+1)%Number.MAX_VALUE).toString(),a=()=>ey({type:"DISMISS_TOAST",toastId:t});return ey({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>ey({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function ew(e){let{onClose:s}=e,[t,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!0),[c,o]=(0,r.useState)(null),[d,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(null),[p,j]=(0,r.useState)(null),[v,N]=(0,r.useState)(!1),y=async()=>{i(!0),o(null);try{console.log("BusinessCardList: Fetching cards...");let e=await ei.getCards();console.log("BusinessCardList: Fetched cards:",e),l(e)}catch(e){console.error("BusinessCardList: Error fetching cards:",e),o("Failed to load business cards"),eb({title:"Error",description:"Failed to load business cards",variant:"destructive"})}finally{i(!1)}};(0,r.useEffect)(()=>{console.log("BusinessCardList: Component mounted"),y()},[]);let b=async e=>{if(confirm("Are you sure you want to delete this business card?")){m(e),o(null);try{await ei.deleteCard(e),await y()}catch(e){console.error("Error deleting card:",e),o("Failed to delete business card. Please try again."),await y()}finally{m(null)}}},w=e=>{g(e.id),j({...e})},S=()=>{g(null),j(null)},C=async()=>{if(p){N(!0);try{await ei.updateCard(p),await y(),g(null),j(null),eb({title:"Success",description:"Business card updated successfully"})}catch(e){console.error("Error updating card:",e),eb({title:"Error",description:"Failed to update business card",variant:"destructive"})}finally{N(!1)}}},k=(e,s)=>{p&&j({...p,[e]:s})};return(0,a.jsx)("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:(0,a.jsxs)(f,{className:"w-[80%] max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b flex justify-between items-center",children:[(0,a.jsxs)("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(K.Z,{className:"h-5 w-5"}),"Business Cards"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(u,{variant:"ghost",size:"icon",onClick:y,title:"Refresh List",className:"h-8 w-8",disabled:n,children:(0,a.jsx)(Y.Z,{className:"h-4 w-4 ".concat(n?"animate-spin":"")})}),(0,a.jsx)(u,{variant:"ghost",size:"icon",onClick:s,title:"Close",className:"h-8 w-8",children:(0,a.jsx)(ee.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4",children:[c&&(0,a.jsx)("div",{className:"text-red-500 mb-4 text-center",children:c}),(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsx)(f,{className:"p-4",children:h===e.id?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Name"}),(0,a.jsx)(x,{value:(null==p?void 0:p.name)||"",onChange:e=>k("name",e.target.value),placeholder:"Name"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Title"}),(0,a.jsx)(x,{value:(null==p?void 0:p.title)||"",onChange:e=>k("title",e.target.value),placeholder:"Title"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Company"}),(0,a.jsx)(x,{value:(null==p?void 0:p.company)||"",onChange:e=>k("company",e.target.value),placeholder:"Company"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Email"}),(0,a.jsx)(x,{value:(null==p?void 0:p.email)||"",onChange:e=>k("email",e.target.value),placeholder:"Email",type:"email"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Phone"}),(0,a.jsx)(x,{value:(null==p?void 0:p.phone)||"",onChange:e=>k("phone",e.target.value),placeholder:"Phone"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,a.jsxs)(ed,{value:(null==p?void 0:p.type)||"customer",onValueChange:e=>k("type",e),children:[(0,a.jsx)(eu,{children:(0,a.jsx)(em,{})}),(0,a.jsxs)(ex,{children:[(0,a.jsx)(eh,{value:"customer",children:"Customer"}),(0,a.jsx)(eh,{value:"supplier",children:"Supplier"}),(0,a.jsx)(eh,{value:"partner",children:"Partner"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(u,{variant:"outline",onClick:S,disabled:v,children:"Cancel"}),(0,a.jsx)(u,{onClick:C,disabled:v,children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.Z,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($.Z,{className:"h-4 w-4 mr-2"}),"Save"]})})]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold flex items-center gap-2",children:[(0,a.jsx)(es.Z,{className:"h-4 w-4"}),e.name]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(et.Z,{className:"h-4 w-4"}),e.title," at ",e.company]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u,{variant:"ghost",size:"icon",onClick:()=>w(e),className:"h-8 w-8",children:(0,a.jsx)(ea.Z,{className:"h-4 w-4"})}),(0,a.jsx)(u,{variant:"ghost",size:"icon",onClick:()=>b(e.id),disabled:d===e.id,className:"h-8 w-8 text-destructive",children:d===e.id?(0,a.jsx)(Y.Z,{className:"h-4 w-4 animate-spin"}):(0,a.jsx)(er.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4 text-muted-foreground"}),e.email]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 text-muted-foreground"}),e.phone]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)(el.Z,{className:"h-4 w-4 text-muted-foreground"}),e.type]})]})},e.id))})]})]})})}var eS=t(9960);function eC(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(null),[n,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[x,h]=(0,r.useState)(!1),f=(0,r.useRef)(null),g=(0,r.useRef)(null),p=(0,r.useRef)(null),j=async()=>{try{if(!p.current){let e=await (0,eS.createWorker)();await e.loadLanguage("eng"),await e.initialize("eng"),p.current=e,console.log("✅ Tesseract worker initialized successfully")}return p.current}catch(e){throw console.error("❌ Error initializing Tesseract worker:",e),e}};if((0,r.useEffect)(()=>(j().catch(e=>{console.error("Error initializing worker:",e),m("Error initializing scanner. Please try again.")}),()=>{p.current&&(p.current.terminate(),p.current=null)}),[]),d)return(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)("div",{className:"text-red-500 mb-2",children:d}),(0,a.jsx)(u,{variant:"outline",onClick:()=>{m(null),o(!1)},children:"Try Again"})]});if(c)return(0,a.jsxs)("div",{className:"p-4 text-center",children:[(0,a.jsx)(Y.Z,{className:"h-8 w-8 animate-spin mx-auto mb-2"}),(0,a.jsx)("p",{children:"Processing image..."})]});let v=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({video:!0});g.current&&(g.current.srcObject=e,s(!0))}catch(e){console.error("Error accessing camera:",e),m("Failed to access camera. Please make sure you have granted camera permissions.")}},N=()=>{g.current&&g.current.srcObject&&(g.current.srcObject.getTracks().forEach(e=>e.stop()),g.current.srcObject=null),s(!1)},y=async()=>{if(g.current)try{o(!0),m(null);let e=document.createElement("canvas");e.width=g.current.videoWidth,e.height=g.current.videoHeight;let s=e.getContext("2d");if(!s)throw Error("Failed to get canvas context");s.drawImage(g.current,0,0);let t=e.toDataURL("image/jpeg");N(),await b(t)}catch(e){console.error("Error capturing image:",e),m("Failed to capture image. Please try again."),o(!1),eb({title:"Error",description:"Failed to capture image. Please try again.",variant:"destructive"})}},b=async e=>{try{var s;o(!0),m(null);let t=await j();console.log("Processing image...");let a=await t.recognize(e);if(console.log("OCR Result:",a),!(null==a?void 0:null===(s=a.data)||void 0===s?void 0:s.text))throw Error("No text detected in image");let r=w(a.data.text);console.log("Extracted Data:",r),l(r),o(!1),eb({title:"Success",description:"Business card text extracted successfully!"})}catch(e){console.error("Error processing image:",e),m("Failed to process image. Please try again."),o(!1),eb({title:"Error",description:"Failed to process image. Please try again.",variant:"destructive"})}},w=e=>{console.log("Raw OCR Text:",e);let s=e.split("\n").map(e=>e.trim()).filter(e=>e.length>0);console.log("Processed Lines:",s);let t={type:"customer",id:crypto.randomUUID(),processedDate:new Date().toISOString()};for(let e of s){var a,r,l;if(!t.name&&e.length>2){t.name=e;continue}if(!t.email&&e.includes("@")){t.email=(null===(a=e.match(/[\w.-]+@[\w.-]+\.\w+/))||void 0===a?void 0:a[0])||"";continue}if(!t.phone&&/[\d()+-]/.test(e)){t.phone=(null===(l=e.match(/[\d()+-\s]{7,}/))||void 0===l?void 0:null===(r=l[0])||void 0===r?void 0:r.trim())||"";continue}if(!t.title){t.title=e;continue}!t.company&&e.length>2&&(t.company=e)}return{name:t.name||"",title:t.title||"",company:t.company||"",email:t.email||"",phone:t.phone||"",type:t.type||"customer",id:t.id||crypto.randomUUID(),processedDate:t.processedDate||new Date().toISOString()}},S=async e=>{var s;let t=null===(s=e.target.files)||void 0===s?void 0:s[0];if(t)try{if(o(!0),m(null),!t.type.startsWith("image/"))throw Error("Please upload an image file");if(t.size>5242880)throw Error("File size too large. Please upload an image smaller than 5MB");let e=new FileReader;e.onload=async e=>{var s;"string"==typeof(null===(s=e.target)||void 0===s?void 0:s.result)&&await b(e.target.result)},e.onerror=()=>{throw Error("Failed to read file")},e.readAsDataURL(t)}catch(e){console.error("Error uploading file:",e),m(e instanceof Error?e.message:"Failed to upload file"),o(!1),eb({title:"Error",description:e instanceof Error?e.message:"Failed to upload file",variant:"destructive"})}},C=async()=>{if(t)try{o(!0),m(null),await ei.saveCard(t),h(!0),o(!1),l(null)}catch(e){console.error("Error processing card:",e),m("Failed to process card. Please try again."),o(!1),eb({title:"Error",description:"Failed to process card. Please try again.",variant:"destructive"})}},E=()=>{s(!1),l(null),o(!1),m(null),h(!1)};return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h3",{className:"font-semibold text-xs mb-2 text-foreground text-center",children:"BUSINESS CARD SCANNER"}),!e&&!t&&!c&&!x&&!d&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)(u,{onClick:v,variant:"secondary",className:"w-full flex items-center justify-center gap-1.5 text-xs h-8 font-medium text-secondary-foreground bg-secondary hover:bg-secondary/80",children:[(0,a.jsx)(Q.Z,{className:"h-3 w-3"}),"SCAN WITH CAMERA"]}),(0,a.jsxs)(u,{onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},variant:"secondary",className:"w-full flex items-center justify-center gap-1.5 text-xs h-8 font-medium text-secondary-foreground bg-secondary hover:bg-secondary/80",children:[(0,a.jsx)(X.Z,{className:"h-3 w-3"}),"UPLOAD IMAGE"]}),(0,a.jsxs)(u,{onClick:()=>i(!0),variant:"secondary",className:"w-full flex items-center justify-center gap-1.5 text-xs h-8 font-medium text-secondary-foreground bg-secondary hover:bg-secondary/80",children:[(0,a.jsx)(K.Z,{className:"h-3 w-3"}),"VIEW SCANNED CARDS"]})]}),(0,a.jsx)("input",{type:"file",ref:f,className:"hidden",accept:"image/*",onChange:S}),e&&(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("video",{ref:g,autoPlay:!0,playsInline:!0,className:"w-full rounded-lg"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u,{onClick:y,variant:"secondary",className:"w-full flex items-center justify-center gap-1.5 text-xs h-8 font-medium text-secondary-foreground bg-secondary hover:bg-secondary/80",disabled:c,children:"CAPTURE"}),(0,a.jsx)(u,{onClick:N,variant:"outline",className:"w-full text-xs h-8 font-medium hover:bg-destructive/10 hover:text-destructive border-secondary-foreground/20",children:"CANCEL"})]})]}),t&&!c&&!d&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"text-xs space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Name:"})," ",t.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Title:"})," ",t.title]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Company:"})," ",t.company]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Email:"})," ",t.email]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Phone:"})," ",t.phone]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Type:"})," ",t.type]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(u,{onClick:C,variant:"secondary",className:"w-full flex items-center justify-center gap-1.5 text-xs h-8 font-medium text-secondary-foreground bg-secondary hover:bg-secondary/80",disabled:c,children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3"}),"PROCESS CARD"]}),(0,a.jsx)(u,{onClick:E,variant:"outline",className:"w-full text-xs h-8 font-medium hover:bg-destructive/10 hover:text-destructive border-secondary-foreground/20",children:"CANCEL"})]})]}),x&&(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 py-4",children:[(0,a.jsx)($.Z,{className:"h-5 w-5 text-green-500"}),(0,a.jsx)("p",{className:"text-xs text-green-500",children:"Card processed successfully!"}),(0,a.jsx)(u,{onClick:E,variant:"outline",className:"text-xs h-8 font-medium hover:bg-green-500/10 hover:text-green-500 border-green-500/20",children:"SCAN ANOTHER"})]}),n&&(0,a.jsx)(ew,{onClose:()=>i(!1)})]})}function eE(){let[e,s]=(0,r.useState)(!1),[t,l]=(0,r.useState)(0),[n,i]=(0,r.useState)(!1),[c,o]=(0,r.useState)(0),[m,P]=(0,r.useState)(0),[I,F]=(0,r.useState)(!1),[_,B]=(0,r.useState)(!1),[U,V]=(0,r.useState)(!1),[q,W]=(0,r.useState)(!1),[H,J]=(0,r.useState)(!1),[Y,Q]=(0,r.useState)([]),[X,K]=(0,r.useState)("");(0,r.useRef)(null),(0,r.useEffect)(()=>{window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(i(!0),document.documentElement.classList.add("dark"))},[]),(0,r.useEffect)(()=>{n?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[n]),(0,r.useEffect)(()=>{let e=()=>{B(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let $=[{label:"Overview",icon:g.Z,section:"overview"},{label:"Features",icon:p.Z,section:"features"},{label:"Specifications",icon:j.Z,section:"specifications"},{label:"Audio",icon:v.Z,section:"audio"},{label:"Standards",icon:N.Z,section:"standards"},{label:"Protocols",icon:y.Z,section:"protocols"},{label:"Deployment",icon:b.Z,section:"deployment"},{label:"Vehicle/Ship",icon:w.Z,section:"vehicle_ship"},{label:"Land-based",icon:S.Z,section:"land_based"},{label:"Mechanical",icon:C.Z,section:"mechanical"}];return(0,a.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,a.jsxs)("header",{className:"bg-secondary text-secondary-foreground p-4 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex-1 flex justify-center",children:(0,a.jsx)("div",{className:"text-3xl font-bold text-secondary-foreground tracking-wider uppercase",children:"VRG VoIP Radio Gateway"})}),(0,a.jsxs)(u,{variant:"ghost",size:"sm",onClick:()=>{i(!n),document.documentElement.classList.toggle("dark")},className:"absolute right-4 flex items-center gap-2 text-xs text-secondary-foreground hover:bg-secondary-foreground/20",children:[n?(0,a.jsx)(T.Z,{className:"h-4 w-4"}):(0,a.jsx)(R.Z,{className:"h-4 w-4"}),n?"Light Mode":"Dark Mode"]})]}),_?(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex flex-col gap-4 p-4 bg-background",children:[(0,a.jsx)(f,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(O.default,{src:d("/images/teqarmada-logo.png"),alt:"Teq Armada Logo",width:200,height:100,className:"object-contain"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-1",children:"TEQ ARMADA SDN BHD"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"VRG VoIP Radio Gateway"})]})]})}),(0,a.jsxs)(f,{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Sales Contact"}),(0,a.jsxs)("div",{className:"space-y-2 text-center",children:[(0,a.jsx)("p",{className:"text-base font-medium",children:"JAZLAN BIN ABDUL JALIL"}),(0,a.jsx)("p",{className:"text-sm text-blue-500",children:"Manager, Sales and Marketing"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2 mt-4",children:[(0,a.jsxs)(u,{variant:"outline",className:"flex items-center gap-2",onClick:()=>window.location.href="tel:+60166934865",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4"}),"+6016 693 4865"]}),(0,a.jsxs)(u,{variant:"outline",className:"flex items-center gap-2",onClick:()=>window.location.href="tel:+60338513314",children:[(0,a.jsx)(k.Z,{className:"h-4 w-4"}),"+603 3851 3314"]}),(0,a.jsxs)(u,{variant:"outline",className:"flex items-center gap-2",onClick:()=>window.location.href="mailto:jazlan@teqarmada.com",children:[(0,a.jsx)(A.Z,{className:"h-4 w-4"}),"jazlan@teqarmada.com"]})]})]})]}),(0,a.jsxs)(f,{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Business Card Scanner"}),(0,a.jsx)(eC,{})]}),(0,a.jsxs)(f,{className:"p-4",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-center",children:"Contact Us"}),(0,a.jsxs)("form",{className:"space-y-4",children:[(0,a.jsx)(x,{placeholder:"Your Name"}),(0,a.jsx)(x,{placeholder:"Email",type:"email"}),(0,a.jsx)(x,{placeholder:"Phone",type:"tel"}),(0,a.jsx)(h,{placeholder:"Message",className:"min-h-[100px]"}),(0,a.jsx)(u,{className:"w-full",children:"Send Message"})]})]})]}),{}):(0,a.jsx)(()=>(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden p-4 gap-4 bg-background",children:[(0,a.jsxs)("div",{className:"w-80 product-assistant-container flex flex-col",children:[(0,a.jsxs)("div",{className:"product-assistant-header",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-secondary-foreground",children:"AI Support Assistant"}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Military-grade Radio Communication System"})]}),(0,a.jsxs)("div",{className:"product-assistant-content flex-1 p-4 overflow-y-auto space-y-4",children:[(0,a.jsx)("div",{className:"chat-message chat-message-assistant",children:"Welcome to VRG VoIP Radio Gateway! How can I assist you with our military-grade communication system?"}),(0,a.jsx)("div",{className:"chat-message chat-message-user",children:"Can you tell me about the main features?"})]}),(0,a.jsx)("div",{className:"p-4 border-t border-border/50 bg-card/95",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(x,{placeholder:"Ask me anything...",className:"product-assistant-input pr-10 text-sm"}),(0,a.jsx)(u,{size:"icon",variant:"ghost",className:"absolute right-1.5 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:(0,a.jsx)(Z.Z,{className:"h-4 w-4"})})]})})]}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col bg-card rounded-lg shadow-sm overflow-hidden",children:[(0,a.jsx)("div",{className:"flex-1 bg-secondary relative",children:(0,a.jsx)(G,{currentSection:c,onSectionChange:o})}),(0,a.jsx)("nav",{className:"flex justify-between px-2 py-2 bg-gradient-to-b from-primary/80 to-primary",children:$.map(e=>(0,a.jsxs)(u,{variant:"ghost",onClick:()=>o(e.section),className:"flex flex-col items-center gap-1.5 h-auto py-3 px-4 \n                bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl\n                shadow-lg hover:shadow-xl hover:scale-105 hover:bg-white/20\n                transition-all duration-300 ease-out\n                text-black min-w-[90px] transform hover:-translate-y-0.5\n                active:translate-y-0 active:shadow-md\n                ".concat(c===e.section?"bg-white/30":""),children:[(0,a.jsx)(e.icon,{className:"h-7 w-7 text-black drop-shadow-md"}),(0,a.jsx)("span",{className:"text-[14px] font-medium text-center leading-tight uppercase text-black drop-shadow-sm",children:e.label})]},e.label))})]})]}),{}),!_&&(0,a.jsx)("footer",{className:"mt-auto",children:(0,a.jsxs)("div",{className:"flex gap-2 p-2 bg-background",children:[(0,a.jsxs)(f,{className:"p-2 w-1/5",children:[(0,a.jsx)("h3",{className:"font-semibold text-xs mb-1 text-foreground text-center",children:"COMPANY INFO"}),(0,a.jsxs)("div",{className:"text-xs space-y-1 text-muted-foreground text-center",children:[(0,a.jsx)("p",{className:"text-xl font-medium text-foreground mb-2",children:"TEQ ARMADA SDN BHD"}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1",children:[(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3"}),"B5-2A Ostina Business Avenue"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(M.Z,{className:"h-3 w-3"}),"43650 Bandar Baru Bangi"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(M.Z,{className:"h-3 w-3"}),"Selangor Darul Ehsan"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(M.Z,{className:"h-3 w-3"}),"Malaysia"]})]}),(0,a.jsxs)(L.default,{href:"http://www.teqarmada.com",target:"_blank",className:"flex items-center justify-center gap-1 text-accent hover:underline mt-2",children:[(0,a.jsx)(z.Z,{className:"h-3 w-3"}),"www.teqarmada.com"]})]})]}),(0,a.jsx)(f,{className:"p-2 w-1/5",children:(0,a.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,a.jsx)(O.default,{src:d("/images/teqarmada-logo.png"),alt:"Teq Armada Logo",width:150,height:75,className:"object-contain"})})}),(0,a.jsxs)(f,{className:"p-2 w-1/5",children:[(0,a.jsx)("h3",{className:"font-semibold text-xs mb-1 text-foreground text-center",children:"SALES CONTACT"}),(0,a.jsxs)("div",{className:"text-xs space-y-1 text-muted-foreground text-center",children:[(0,a.jsx)("p",{className:"text-xl font-medium text-foreground mb-2",children:"JAZLAN BIN ABDUL JALIL"}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1 text-blue-500",children:[(0,a.jsx)(D.Z,{className:"h-3 w-3"}),"Manager, Sales and Marketing"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(E.Z,{className:"h-3 w-3"}),"+6016 693 4865"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1",children:[(0,a.jsx)(k.Z,{className:"h-3 w-3"}),"+603 3851 3314"]}),(0,a.jsxs)("p",{className:"flex items-center justify-center gap-1 text-accent",children:[(0,a.jsx)(A.Z,{className:"h-3 w-3"}),"jazlan@teqarmada.com"]})]})]}),(0,a.jsx)(f,{className:"p-2 w-[300px]",children:(0,a.jsx)(eC,{})}),(0,a.jsxs)(f,{className:"p-2 flex-grow",children:[(0,a.jsx)("h3",{className:"font-semibold text-xs mb-1 text-foreground text-center",children:"CONTACT FORM"}),(0,a.jsxs)("form",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(x,{placeholder:"Name",className:"text-xs h-7 flex-1 bg-card text-foreground text-center"}),(0,a.jsx)(x,{placeholder:"Email",className:"text-xs h-7 flex-1 bg-card text-foreground text-center"}),(0,a.jsx)(x,{placeholder:"Phone",className:"text-xs h-7 flex-1 bg-card text-foreground text-center"})]}),(0,a.jsx)(h,{placeholder:"Message",className:"min-h-[60px] text-xs bg-card text-foreground text-center"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(u,{type:"button",variant:"outline",className:"w-full text-xs h-7 font-medium hover:bg-destructive/10 hover:text-destructive border-secondary-foreground/20",children:"CLEAR"}),(0,a.jsx)(u,{type:"submit",variant:"secondary",className:"w-full text-xs h-7 font-medium bg-secondary hover:bg-secondary/80 text-secondary-foreground",children:"SUBMIT"})]})]})]})]})})]})}t(12),t(5452)}},function(e){e.O(0,[86,971,117,744],function(){return e(e.s=73)}),_N_E=e.O()}]);